# DNS using LDAP
Tags: 
#DNS #enumeration #AD #powershell #AD_Powershell #DNS_evasion

We can do DNS lookups using LDAP. We don't ask the DNS, which has detailed logging and informatio about what users are querying. 

```
PS C:\Users\vagrant> Get-ADComputer -Filter * -Properties ipv4address | where {$_.IPV4address} | select name,ipv4address
```

>name  ipv4address
>----  -----------
>DC    192.168.38.102
>WEF   192.168.38.103
>WIN10 192.168.38.104

```
PS C:\Users\vagrant> Get-ADComputer -Filter {ipv4address -eq '192.168.38.103'} -Properties Lastlogondate,passwordlastset
,ipv4address
```

>DistinguishedName : CN=WEF,OU=Servers,DC=windomain,DC=local
>DNSHostName       : wef.windomain.local
>Enabled           : True
>IPv4Address       : 192.168.38.103
>LastLogonDate     : 2/16/2021 7:05:17 AM
>Name              : WEF
>ObjectClass       : computer
>ObjectGUID        : 9d18e442-9ca3-4f6d-8f57-8a7d56c1703a
>PasswordLastSet   : 2/16/2021 7:05:17 AM
>SamAccountName    : WEF$
>SID               : S-1-5-21-3054698647-2847207321-3762212633-1104
>UserPrincipalName :
